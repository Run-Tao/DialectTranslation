\documentclass[lang=cn]{elegantpaper}
\usepackage{bm,appendix}
\title{低成本普惠型智能家居方言指令转换器的研究}
\author{陶理}
\begin{document}
\maketitle
\begin{abstract}
\end{abstract}
\newpage
\begin{center}
    \tableofcontents
\end{center}
\newpage
\setcounter{section}{-1}
\section{引言}
随着普通话的推广，为了更好地与各族人民交流，方言的盛行注定会成为过去时。不过，各地迥异的方言是中华民族传承千年的瑰宝。以吴语为例：现如今普通话已经只剩下四个声调，即所谓的阴平、阳平、上声、去声，但是在古汉语中还有一个声调为入声，在古诗文的韵律中时常出现；如在浙江义乌话中，声调达到了10个。因为有入声，所以使用方言阅读古诗文能够接近古人在创作时的读音，相较于普通话更有韵味。若此般瑰宝失传，则是中华民族乃至世界的重大文化损失。

但是，如今的方言正在高速消亡，特别是小众方言。沪剧、川剧、粤语歌曲等流行的艺术形式使得大方言得到了一定程度上的新生，而且如今讯飞科技等公司、组织也研发了此类大方言转换为人工智能的算法，并已经付诸实践。而小众方言在使用人群数量上无法与大方言相比，自然在被关注度上也无法与大方言争锋。但是在这些小众方言流行的地域上，新一代的年轻人同样大多都说普通话，若是没有进一步的保护措施，这类的小众方言将很快走下历史的舞台。
虽然方言的小众化是不可逆的，但是及时的研究能够更多地保留这一非物质文化遗产。因此需要尽快进行研究。
吴永焕[1]就方言的保护在必要性和紧迫性的方面进行了论证，强调了要抢记方言资料，尽可能延缓方言特征消失速度；
黄涛[2]强调了方言在文化价值上的重要性；相应的保护政策也相继出台，因而保护方言是很有必要的。

另外，在高度信息化的现代社会，语音识别正在被广泛地应用和推广。在各种设施和应用场景中，语音识别的重要性也越来越高。语音识别技术使得人们可以方便地通过语音来交流、控制和感知信息，比如在使用即时通讯软件时能够进行语音输入，通过与智能音响等的对话了解天气情况，或者通过智能家居系统来进行家电控制。由于方言的发音和说话习惯与普通话大相径庭，因此使用普通话数据训练得到的语音识别模型无法准确地预测方言语音的含义。这会导致两个后果：1. 方言的使用场景减少，而更少的应用会进一步加速方言的消亡；2. 无法通过小众方言使用各种基于语音识别的应用和设施，如使用方言调用智能家居系统。

智能家居是以语音识别为基础，智能家具通过语音模型理解人的指令进而执行指令。但是语音识别模型的缺陷在于大多模型是基于普通话进行训练的，所以导致对于方言的支持很差。而对于方言识别来说，如今只有大方言的语音识别模型，小众方言并没有对应的语音识别模型。这导致说小众方言的智能家居使用者只能使用普通话进行指令的描述。而小众方言的使用者占我国总人数的很大比重。虽然现在普通话推广范围很广，但是还是有很多人（以老年人为主）对于普通话的运用并不熟练。若一致使用普通话，会降低使用方言的频率，进而会使得方言的消失速度更快，特别对于小众方言。因此针对小众方言研究方言指令转换器是十分有必要的。

在此之前，已经有许多学者就方言识别进行了研究：
武瑞丰[3]提出了人工智能在方言建档中有很大的作用和优点；
石佳影、黄威[4]利用梅尔倒谱系数（MFCCs）对四川方言进行特征提取，并使用了基于Kaldi平台的深度神经网络（DNN），构建了基于语音与普通话的四川方言语料库；
杨波[5]构建了循环神经网络（RNN）为基础的声学模型，并以此搭建了桂柳方言的语音识别系统；
张宇聪[6]分别运用了隐马尔科夫模型（HMM）和长短时记忆模型（LSTM）构建了语音识别模型和藏语声学特征提取器，并以此完成了藏语语音识别系统；
余陆峰[7]使用多种深度学习算法，并利用TensorFlow框架进行实现，最终对比得出了效果最佳的关于客家方言的语音识别系统；
彭煦潭等[8]利用“无监督跨语言词向量”的算法，分别研究了12种不同的语言并构建了语音识别系统。

前人的研究受限于使用的深度学习或机器学习算法对于数据量的要求，需要花费大量时间用于收集方言语音数据。本研究旨在通过小数据量的方言数据，构建方言语音指令转换器，利用梅尔频率倒谱系数(MFCCs)等特征值提取方式，对于方言指令音频数据建立特征向量，并通过数学模型提取目标方言和普通话的向量之间的映射关系。

\section{智能家居语音指令数据库}
构建的智能家居语音指令数据库包含了不同语速的普通话、沪语、粤语、四川方言和浙江义乌方言智能家居语音指令的音频数据
\subsection{语音指令文本设计}

将智能家居的语音指令按照不同的智能家具进行划分，按照各家具分配的指令数量如表\ref{tab:1}所示。
\begin{table}[h]
    \caption{表\label{tab:1} 智能家居语音指令数据库语音指令分配}\
    \begin{center}
        \begin{tabular}{ccc}
            \hline
            \textbf{智能家具} & \textbf{指令数量} & \textbf{例子} \\
            \hline \hline
            \textit{空调} & 30 & 打开空调 \\
            \textit{照明} & 25 & 开灯 \\
            \textit{电视} & 18 & 打开电视、调低电视音量 \\
            \textit{电风扇} & 15 & 电风扇调到三档风 \\
            \textit{洗衣机} & 10 & 洗衣机开始工作 \\
            \textit{摄像头} & 8 & 查看门口摄像头画面 \\
            \textit{音响} & 3 & 播放\\
            \hline
        \end{tabular}
    \end{center}
\end{table}

各家具的指令覆盖了大部分可能出现的需求，具体可以参见附录\ref{appendix:A}。

\subsection{语音数据增强}
由于方言数据量少，而且质量不高，所以需要对语音数据进行增强，增加数据集容量，提高识别精度。
对原数据在语速、语调、音调、音量等方面进行增强，获得更多样的数据集，能够解决数据量少的问题，如图所示。

\section{语音识别方法}
\subsection{音频特征提取算法}
常用的音频特征提取算法有傅里叶变换、短时傅里叶变换、梅尔频率倒谱系数、小波变换等。通过合理的算法选择，能够提升特征值的有效性，进而使识别更精准。

梅尔频率倒谱系数，(Mel-Scale Frequency Cepstral Coefficients, MFCCs)是一种在语音识别领域中运用的最为广泛的特征提取算法之一。MFCC的提取过程模仿了人耳由于生理构造而具有的听觉特性，特别是对不同频率的声音的感知方式。人耳对频率的感知是非线性的，即对低频声音的分辨能力比高频声音要好。因此，MFCC特征的提取过程包括将频率转换到一个称为梅尔刻度（Mel scale）的尺度上，该尺度更接近人类的听觉感知。

\begin{equation}
    m = Mel(f) = 2595 \log_{10}(1+f/700)
\end{equation}

其中，$f$是频率，$m$即是Mel刻度。

MFCCs的计算分为：预加重、加窗、短时傅里叶变换、计算功率谱密度、应用梅尔滤波器、离散余弦变换等步骤。最终将语音数据转化为MFCCs的特征向量，进而用于语音识别的声学模型中。

预加重的目的为消除低频率对结果的负面影响，通过高通滤波实现，根据经验，本研究中在计算MFCC时使用一阶差分方程，即：

\begin{equation}
    x'(n) = x(n) + \alpha x(n-1) 
\end{equation}

其中，$\alpha$指预加重系数。

加窗的目的为消除边界干扰，即对输入信号进行窗函数处理，如Hanning窗或Rectangular窗等，消除频谱泄露的效应。

\begin{equation}
    x_w(n) = x'(n) \cdot w(n)
\end{equation}

其中，$w(n)$为窗函数，一般有矩形窗、海明（Hamming）窗、汉宁（Hanning）窗等。本研究中使用了受到广泛认可的Hamming窗，相对于其他窗函数，Hanning窗具有更好的频谱主瓣宽度和边界衰减，而且计算更为简便。
\begin{equation}
    w(n) = H(n) = 0.54 - 0.46 \cos \left( \frac{2\pi n}{N-1} \right)
\end{equation}

短时傅里叶变换（Short-Time Fourier Transform, STFT）的原理是将语音信号转换为频率谱，它是通过对信号的离散傅里叶变换来实现的。通过将语音信号进行短时傅里叶变换后，可以同时得到频域和时域的信息。
\begin{equation}
    X(m, \omega) = \sum_{n=-\infty}^{\infty} x(n) \cdot w(n-m) \cdot e^{-j\omega n}
\end{equation}

离散余弦变换（Discrete Cosine Transform, DCT）在MFCCs的计算中将通过Mel滤波器后的信号转化为最后的向量形式。
\begin{equation}
    f_m = \sum_{k=0}^{n-1} x_k \cos [\frac{\pi}{n}m(k+\frac{1}{2})]
\end{equation}

本研究使用MFCCs对每条进行语音数据的特征提取，用于语音识别的声学模型中。将对一个音频信号$S(t)$求取MFCCs的操作定义为$MFCC(S(t))$，即有：
\begin{equation}
    M = MFCC(S(t))
\end{equation}
\subsection{主成分分析}
\subsection{预测}
现有普通话智能家居语音指令数据库，包含一系列语音音频数据$D_i(t)$, $i = 1, 2, \ldots, L$。

对$D_i(t), i\in \{1,2,\ldots, L\}$，有$M_i = MFCC(D_i(t))$
有一条待预测的音频指令数据，记为$S_p(t)$，通过梅尔频率倒谱系数的计算，提取得到矩阵$M$，即：
\begin{equation}
    M_p = MFCC(S_p(t))
\end{equation}

通过主成分分析，
......
形成特征向量$\bm{v_p} = (f_1, f_2, f_3, \ldots, f_N)$，

通过余弦定理可得$\bm{v_p}$与普通话数据库中数据的特征向量的夹角$\theta_{pi} = \langle \bm{v_p},\bm{v_i} \rangle, i \in \{1,2,\ldots, L\}$，即：
\begin{equation}
    \cos \langle \bm{v_p},\bm{v_i} \rangle = \frac{\bm{v_p} \cdot \bm{v_i}}{|\bm{v_p}||\bm{v_i}|}
\end{equation}

于是有：
\begin{equation}
    \theta_{min} = min(\theta_{pi}), i \in \{1,2,\ldots, L\}
\end{equation}

记$\theta_{pk} = \theta_{min}$, 则对应的普通话指令为$S_k(t)$。
\section{结果与讨论}
\section{结论}
\section{参考文献}
\appendix
\section[A]{语音指令文本}
\label{appendix:A}
\end{document}